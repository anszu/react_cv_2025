import{r as u,a as L,c as d,j as r,R as P,S as c}from"./iframe-JjvYr2Iq.js";import{a as m,S as y,D as g,b,L as N}from"./List-D7EYLtZ8.js";const A=()=>{const s=u.useContext(L);if(s===null)throw new Error("useDataContext must be used within a DataProvider");return s},C=s=>{const e=d.c(12),{data:a}=s;let t;e[0]!==a.title?(t=()=>{document.title=`${a.title}`},e[0]=a.title,e[1]=t):t=e[1];let i;e[2]!==a.subtitle||e[3]!==a.title?(i=[a.title,a.subtitle],e[2]=a.subtitle,e[3]=a.title,e[4]=i):i=e[4],u.useEffect(t,i);let n;e[5]!==a.title?(n=r.jsx("h1",{className:"text-3xl print:text-2xl font-bold",children:a.title}),e[5]=a.title,e[6]=n):n=e[6];let o;e[7]!==a.subtitle?(o=r.jsx("h2",{className:"text-gray-500 font-normal",children:a.subtitle}),e[7]=a.subtitle,e[8]=o):o=e[8];let l;return e[9]!==n||e[10]!==o?(l=r.jsxs("header",{className:"border-b border-gray-500 pb-4",children:[n,o]}),e[9]=n,e[10]=o,e[11]=l):l=e[11],l};C.__docgenInfo={description:"",methods:[],displayName:"Heading",props:{data:{required:!0,tsType:{name:"ContentType['heading']",raw:"ContentType['heading']"},description:""}}};const T=s=>{const e=d.c(12),{data:a}=s;let t;e[0]!==a.name?(t=a.name&&r.jsx("h3",{children:a.name}),e[0]=a.name,e[1]=t):t=e[1];let i;e[2]!==a.phone?(i=a.phone&&r.jsx("div",{children:a.phone}),e[2]=a.phone,e[3]=i):i=e[3];let n;e[4]!==a.links?(n=a?.links.map(M),e[4]=a.links,e[5]=n):n=e[5];let o;e[6]!==n?(o=r.jsx("address",{className:"not-italic",children:n}),e[6]=n,e[7]=o):o=e[7];let l;return e[8]!==t||e[9]!==i||e[10]!==o?(l=r.jsxs("div",{children:[t,i,o]}),e[8]=t,e[9]=i,e[10]=o,e[11]=l):l=e[11],l};T.__docgenInfo={description:"",methods:[],displayName:"Contact",props:{data:{required:!0,tsType:{name:"ContentType['contact']",raw:"ContentType['contact']"},description:""}}};function M(s,e){return r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"min-w-32 mr-4",children:[s.label,": "]}),r.jsx(m,{href:s.url,children:s.url})]},`${s.label}-${e}`)}const w=s=>{const e=d.c(2),{data:a}=s;let t;return e[0]!==a?(t=r.jsx("p",{className:"italic",children:a}),e[0]=a,e[1]=t):t=e[1],t};w.__docgenInfo={description:"",methods:[],displayName:"Summary",props:{data:{required:!0,tsType:{name:"ContentType['summary']",raw:"ContentType['summary']"},description:""}}};const _=s=>{const e=d.c(4),{data:a}=s;let t;e[0]!==a?(t=a.map(V),e[0]=a,e[1]=t):t=e[1];let i;return e[2]!==t?(i=r.jsx("ul",{className:"flex flex-col gap-6 print:gap-4",children:t}),e[2]=t,e[3]=i):i=e[3],i};_.__docgenInfo={description:"",methods:[],displayName:"Experience",props:{data:{required:!0,tsType:{name:"ContentType['experience']",raw:"ContentType['experience']"},description:""}}};function O(s,e){return r.jsx("li",{children:s},e)}function V(s,e){return r.jsxs("li",{className:"flex flex-col gap-3 print:last:mb-0",children:[r.jsxs("h3",{className:"font-bold",children:[s.position," â€”"," ",s.link?r.jsx(m,{href:s.link,children:s.company}):r.jsx("span",{children:s.company}),r.jsxs(y,{children:[s.location," â€¢ ",s.period]})]}),s.description&&r.jsx(g,{description:s.description}),r.jsx("ul",{className:"list-disc pl-4 print:last:mb-0",children:s.tasks.map(O)})]},`${s.company}-${s.position}-${e}`)}const $=P.memo(s=>{const e=d.c(4),{data:a}=s;let t;e[0]!==a?(t=a?.filter(Boolean).map(H),e[0]=a,e[1]=t):t=e[1];let i;return e[2]!==t?(i=r.jsx(b,{children:t}),e[2]=t,e[3]=i):i=e[3],i});$.__docgenInfo={description:"",methods:[],displayName:"Education",props:{data:{required:!0,tsType:{name:"ContentType['education']",raw:"ContentType['education']"},description:""}}};function H(s,e){return r.jsxs("li",{children:[r.jsx("h3",{className:"font-bold",children:s.degree}),s.link?r.jsx(m,{href:s.link,children:s.school}):r.jsx("p",{children:s.school}),r.jsxs("p",{children:[s.location,s.year&&r.jsxs(r.Fragment,{children:[s.location&&" â€” ",r.jsx("time",{dateTime:`${s.year}-01-01`,children:s.year})]})]})]},`edu-${e}`)}const k=s=>{const e=d.c(4),{data:a}=s;let t;e[0]!==a?(t=a?.map(z),e[0]=a,e[1]=t):t=e[1];let i;return e[2]!==t?(i=r.jsx("ul",{className:"flex flex-col gap-4",children:t}),e[2]=t,e[3]=i):i=e[3],i};k.__docgenInfo={description:"",methods:[],displayName:"Skills",props:{data:{required:!0,tsType:{name:"ContentType['skills']",raw:"ContentType['skills']"},description:""}}};function z(s,e){return r.jsxs("li",{children:[r.jsxs("h3",{className:"font-bold",children:[s.label,":"]}),r.jsx("p",{children:s.text})]},e)}const S=s=>{const e=d.c(4),{data:a}=s;let t;e[0]!==a?(t=a.map(F),e[0]=a,e[1]=t):t=e[1];let i;return e[2]!==t?(i=r.jsx(b,{children:t}),e[2]=t,e[3]=i):i=e[3],i};S.__docgenInfo={description:"",methods:[],displayName:"Projects",props:{data:{required:!0,tsType:{name:"ContentType['projects']",raw:"ContentType['projects']"},description:""}}};function F(s,e){return r.jsxs("li",{children:[r.jsx("h3",{className:"font-bold",children:s.name}),s.link&&r.jsx(m,{href:s.link,optionalClasses:"mb-4 block",children:s.link}),r.jsx(g,{description:s.description})]},`${s.name}-${e}`)}const v=s=>{const e=d.c(4),{data:a}=s;let t;e[0]!==a?(t=a.map(U),e[0]=a,e[1]=t):t=e[1];let i;return e[2]!==t?(i=r.jsx("div",{children:t}),e[2]=t,e[3]=i):i=e[3],i};v.__docgenInfo={description:"",methods:[],displayName:"Volunteering",props:{data:{required:!0,tsType:{name:"ContentType['volunteering']",raw:"ContentType['volunteering']"},description:""}}};function J(s,e){return r.jsx("li",{children:s},e)}function U(s,e){return r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:s.role}),r.jsxs(y,{optionalClasses:"mb-4",children:[s.organization," (",s.period,")"]}),r.jsx("ul",{className:"italic text-sm",children:s.tasks.map(J)})]},`${s.organization}-${e}`)}const E=s=>{const e=d.c(2),{data:a}=s;let t;return e[0]!==a?(t=r.jsx("div",{children:a}),e[0]=a,e[1]=t):t=e[1],t};E.__docgenInfo={description:"",methods:[],displayName:"Referees",props:{data:{required:!0,tsType:{name:"ContentType['referees']",raw:"ContentType['referees']"},description:""}}};const I=()=>{const[s,e]=u.useState(!1),[a,t]=u.useState(!1),[i,n]=u.useState(""),[o,l]=u.useState(!1),[h,f]=u.useState(""),R=()=>{t(p=>!p),a||(f(""),n(""),l(!1))},D=async()=>{if(!h.trim()){l(!0),n("Please provide a job description!");return}l(!1),e(!0);try{const p=await fetch("./json/content.json").then(j=>{if(!j.ok)throw new Error("Failed to load CV data");return j.json()}),x=await fetch("https://react-cv-2025.onrender.com/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cvData:p,jobDescription:h})});if(!x.ok)throw new Error("Server responded with an error");const q=await x.json();n(q.answer)}catch(p){console.error(p),l(!0),n("An error occurred on the server. Please try again later.")}finally{e(!1)}};return r.jsxs("div",{children:[r.jsxs("button",{onClick:R,className:"bg-blue-100 hover:bg-blue-200 text-blue-800 font-semibold px-4 py-2 rounded-lg shadow-sm transition-colors duration-200 cursor-pointer w-full",children:[r.jsx("span",{children:"ðŸ§ "})," Wondering if this CV is your next perfect match? Letâ€™s check it out!"]}),r.jsxs("div",{className:`flex flex-col transition-all duration-300 ease-in-out overflow-hidden ${a?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:[r.jsx("textarea",{value:h,onChange:p=>f(p.target.value),placeholder:"Paste the job description here...",className:"w-full p-2 border border-gray-300 rounded h-32 mb-2 mt-2"}),r.jsxs("div",{className:"flex flex-row justify-between items-center",children:[r.jsxs("div",{className:"mr-4",children:[o&&!s&&r.jsx("span",{className:"italic text-red-500",children:i}),s&&r.jsxs("span",{className:"mt-4 flex items-center italic text-gray-500",children:[r.jsx(N,{size:"sm"}),r.jsx("span",{className:"ml-2",children:"Analysing the match... ðŸ’¼ðŸ¤–"})]})]}),r.jsx("button",{onClick:D,disabled:s,className:`text-sm self-end font-semibold py-2 px-4 rounded-lg border border-transparent bg-blue-600 text-white shadow-md hover:bg-blue-700 hover:shadow-lg transition-all duration-200 ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:"Check Match"})]})]}),!o&&!s&&i&&r.jsx("p",{className:"mt-4 italic text-gray-700",children:i})]})};I.__docgenInfo={description:"",methods:[],displayName:"Match"};const G=s=>{const e=d.c(20),{sectionId:a}=s,{contentData:t,contentLoading:i}=A();if(!t)return null;if(i){let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsx("div",{className:"flex w-full justify-center",children:r.jsx(N,{})}),e[0]=n):n=e[0],n}switch(a){case c.HEADING:{let n;return e[1]!==t.heading?(n=r.jsx(C,{data:t.heading}),e[1]=t.heading,e[2]=n):n=e[2],n}case c.CONTACT:{let n;return e[3]!==t.contact?(n=r.jsx(T,{data:t.contact}),e[3]=t.contact,e[4]=n):n=e[4],n}case c.SUMMARY:{let n;return e[5]!==t.summary?(n=r.jsx(w,{data:t.summary}),e[5]=t.summary,e[6]=n):n=e[6],n}case c.SKILLS:{let n;return e[7]!==t.skills?(n=r.jsx(k,{data:t.skills}),e[7]=t.skills,e[8]=n):n=e[8],n}case c.EXPERIENCE:{let n;return e[9]!==t.experience?(n=r.jsx(_,{data:t.experience}),e[9]=t.experience,e[10]=n):n=e[10],n}case c.EDUCATION:{let n;return e[11]!==t.education?(n=r.jsx($,{data:t.education}),e[11]=t.education,e[12]=n):n=e[12],n}case c.PROJECTS:{let n;return e[13]!==t.projects?(n=r.jsx(S,{data:t.projects}),e[13]=t.projects,e[14]=n):n=e[14],n}case c.VOLUNTEERING:{let n;return e[15]!==t.volunteering?(n=r.jsx(v,{data:t.volunteering}),e[15]=t.volunteering,e[16]=n):n=e[16],n}case c.REFEREES:{let n;return e[17]!==t.referees?(n=r.jsx(E,{data:t.referees}),e[17]=t.referees,e[18]=n):n=e[18],n}case c.MATCH:{let n;return e[19]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsx(I,{}),e[19]=n):n=e[19],n}default:return null}};G.__docgenInfo={description:"",methods:[],displayName:"Content",props:{sectionId:{required:!0,tsType:{name:"SectionId"},description:""}}};export{G as C,A as u};
